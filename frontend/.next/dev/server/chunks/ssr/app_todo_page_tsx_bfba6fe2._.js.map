{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ervinvincepiol/Documents/eccomerce-fullstack/frontend/app/todo/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\ninterface Task {\n  id: number;\n  title: string;\n  content: string;\n  completed: boolean;\n}\n\nexport default function Page() {\n  const [tasks, setTasks] = useState<Task[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [newTitle, setNewTitle] = useState(\"\");\n  const [newContent, setNewContent] = useState(\"\");\n\n  const fetchTasks = async () => {\n    setLoading(true);\n    try {\n      const response = await axios.get<{ tasks: Task[] }>(\n        \"http://localhost:8000/task\"\n      );\n      setTasks(response.data.tasks);\n    } catch (err: any) {\n      setError(err.message || \"Something went wrong\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchTasks();\n  }, []);\n\n  const addTask = async () => {\n    if (!newTitle) return;\n    try {\n      const response = await axios.post(\"http://localhost:8000/task\", {\n        title: newTitle,\n        content: newContent,\n        completed: false,\n      });\n      setTasks((prev) => [...prev, response.data.task]);\n      setNewTitle(\"\");\n      setNewContent(\"\");\n    } catch (err: any) {\n      alert(err.message || \"Failed to add task\");\n    }\n  };\n\n  const deleteTask = async (id: number) => {\n    try {\n      await axios.delete(`http://localhost:8000/task/${id}`);\n      setTasks((prev) => prev.filter((task) => task.id !== id));\n    } catch (err: any) {\n      alert(err.message || \"Failed to delete task\");\n    }\n  };\n\n  const toggleComplete = async (task: Task) => {\n    try {\n      const response = await axios.patch(\n        `http://localhost:8000/task/${task.id}`,\n        {\n          completed: !task.completed,\n        }\n      );\n      setTasks((prev) =>\n        prev.map((t) => (t.id === task.id ? response.data.task : t))\n      );\n    } catch (err: any) {\n      alert(err.message || \"Failed to update task\");\n    }\n  };\n\n  return (\n    <div className=\"flex min-h-screen flex-col items-center justify-start py-16 px-4\">\n      <h1 className=\"text-4xl font-bold text-black dark:text-zinc-50 mb-8\">\n        Todo App\n      </h1>\n\n      {/* New Task Form */}\n      <div className=\"mb-8 flex w-full max-w-md flex-col gap-2\">\n        <input\n          type=\"text\"\n          placeholder=\"Task title\"\n          value={newTitle}\n          onChange={(e) => setNewTitle(e.target.value)}\n          className=\"p-2 border rounded\"\n        />\n        <input\n          type=\"text\"\n          placeholder=\"Task content\"\n          value={newContent}\n          onChange={(e) => setNewContent(e.target.value)}\n          className=\"p-2 border rounded\"\n        />\n        <button\n          onClick={addTask}\n          className=\"p-2 bg-blue-600 text-white rounded hover:bg-blue-700\"\n        >\n          Add Task\n        </button>\n      </div>\n\n      {/* Task List */}\n      <div className=\"flex flex-col w-full max-w-md gap-4\">\n        {loading && <p className=\"text-black dark:text-zinc-50\">Loading...</p>}\n        {error && <p className=\"text-red-500\">{error}</p>}\n\n        {tasks.map((task) => (\n          <div\n            key={task.id}\n            className=\"flex justify-between items-center p-4 border rounded-md bg-white dark:bg-gray-900\"\n          >\n            <div>\n              <h2\n                className={`font-bold text-lg ${\n                  task.completed\n                    ? \"line-through text-gray-400\"\n                    : \"text-black dark:text-zinc-50\"\n                }`}\n              >\n                {task.title}\n              </h2>\n              <p\n                className={`${\n                  task.completed\n                    ? \"line-through text-gray-400\"\n                    : \"text-gray-600 dark:text-gray-300\"\n                }`}\n              >\n                {task.content}\n              </p>\n            </div>\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => toggleComplete(task)}\n                className=\"px-3 py-1 rounded bg-green-500 text-white hover:bg-green-600\"\n              >\n                {task.completed ? \"Undo\" : \"Complete\"}\n              </button>\n              <button\n                onClick={() => deleteTask(task.id)}\n                className=\"px-3 py-1 rounded bg-red-500 text-white hover:bg-red-600\"\n              >\n                Delete\n              </button>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}